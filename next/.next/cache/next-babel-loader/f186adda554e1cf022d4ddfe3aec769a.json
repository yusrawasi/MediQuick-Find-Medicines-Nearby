{"ast":null,"code":"import _extends from \"@babel/runtime-corejs2/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime-corejs2/helpers/esm/objectWithoutProperties\";\nvar _jsxFileName = \"/usr/src/app/router/withPageRouter.js\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport { withRouter } from 'next/router';\n/**\r\n * Our router to override the missing query when deploying to static export\r\n * This is required for page components that need access to the router\r\n *\r\n * @param {React.Component} Component\r\n *\r\n * @return {React.Component}\r\n */\n\nexport const withPageRouter = Component => {\n  return withRouter((_ref) => {\n    let {\n      router\n    } = _ref,\n        props = _objectWithoutProperties(_ref, [\"router\"]);\n\n    // split at first `?`\n    const searchParams = new URLSearchParams(router.asPath.split(/\\?/)[1]);\n    const query = {};\n\n    for (const [key, value] of searchParams) {\n      query[key] = value;\n    } // replace the empty query\n\n\n    router.query = query;\n    return __jsx(Component, _extends({}, props, {\n      router: router,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 24\n      },\n      __self: this\n    }));\n  });\n};","map":{"version":3,"sources":["/usr/src/app/router/withPageRouter.js"],"names":["withRouter","withPageRouter","Component","router","props","searchParams","URLSearchParams","asPath","split","query","key","value"],"mappings":";;;;;AAAA,SAASA,UAAT,QAA2B,aAA3B;AAEA;;;;;;;;;AAQA,OAAO,MAAMC,cAAc,GAAIC,SAAD,IAAe;AACzC,SAAOF,UAAU,CAAC,UAA0B;AAAA,QAAzB;AAAEG,MAAAA;AAAF,KAAyB;AAAA,QAAZC,KAAY;;AACxC;AACA,UAAMC,YAAY,GAAG,IAAIC,eAAJ,CAAoBH,MAAM,CAACI,MAAP,CAAcC,KAAd,CAAoB,IAApB,EAA0B,CAA1B,CAApB,CAArB;AAEA,UAAMC,KAAK,GAAG,EAAd;;AACA,SAAK,MAAM,CAACC,GAAD,EAAMC,KAAN,CAAX,IAA2BN,YAA3B,EAAyC;AACrCI,MAAAA,KAAK,CAACC,GAAD,CAAL,GAAaC,KAAb;AACH,KAPuC,CASxC;;;AACAR,IAAAA,MAAM,CAACM,KAAP,GAAeA,KAAf;AAEA,WAAQ,MAAC,SAAD,eAAeL,KAAf;AAAsB,MAAA,MAAM,EAAED,MAA9B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAR;AACH,GAbgB,CAAjB;AAcH,CAfM","sourcesContent":["import { withRouter } from 'next/router';\r\n\r\n/**\r\n * Our router to override the missing query when deploying to static export\r\n * This is required for page components that need access to the router\r\n *\r\n * @param {React.Component} Component\r\n *\r\n * @return {React.Component}\r\n */\r\nexport const withPageRouter = (Component) => {\r\n    return withRouter(({ router, ...props }) => {\r\n        // split at first `?`\r\n        const searchParams = new URLSearchParams(router.asPath.split(/\\?/)[1]);\r\n\r\n        const query = {};\r\n        for (const [key, value] of searchParams) {\r\n            query[key] = value;\r\n        }\r\n\r\n        // replace the empty query\r\n        router.query = query;\r\n\r\n        return (<Component {...props} router={router} />);\r\n    });\r\n};"]},"metadata":{},"sourceType":"module"}